Bug list for Defense Condition game project

Author(s): Ray Gardener (support@daylongraphics.com)
Repository: https://github.com/RayOfDaylon/Defcon
September 9, 2023


FIXED: Stats panel could indicate human being abducted even after 
the lander carrying him was killed.

FIXED: Phreds were spawning too many munchies, so
now they don't countdown to spawning unless 
they're visible in the main play widget.

FIXED: Accidentally introduced a bug that would cause a 
sprite to try installing an already installed widget.

FIXED: Game over screen sometimes showed stats immediately
instead of fading them in. We had set the stats widget opacity 
too early in NativeOnInitialized instead of in OnActivate.

FIXED: Terrain overlaps player ship and most enemy ships.
Terrain drawing was moved to a new widget, SDefconTerrain.

Stars overlap player ship and most enemy ships. Can fix by making stars use a widget.

It seems that when humans are sometimes debarked by player ship, they actually are 
above the terrain by a small amount and need to fall for a brief moment
before being on the ground. This causes excess gratitude icons to appear 
or the player ship can even embark the human back if he moves quickly enough.

FIXED: When mission picked, expanding cell started from slightly wrong y-position.

FIXED: If starting on a non-humans mission (e.g. Yllabian dogfight), the next mission 
will have the humans clustered instead of spread out.

FIXED: Hovering landers would drop way down below terrain for the last line segment 
behind the world x-origin.

FIXED: Hovering landers would too often switch to fighting mode (chasing the player).

FIXED: At HD resolution (and/or in a window), the border width for the mission picker cells 
and the shield readout are too thick. Also, when a mission is chosen, the expanding 
rectangle grows to the wrong coordinates (maybe display space instead of window space?)

FIXED: Spawning and then destroying enemies in training missions (using the debug controls) 
would cause humans to all clump together at the x-origin in the first military mission.

FIXED: Still getting the "nonexistant enemy" problem in the Yllabian Dogfight mission. 
Both hidden and out-of-bounds enemy counts reported zero, so it's likely the 
critical hostiles count is being overly incremented somehow. Happened during 
a packaged build (Shipping) so no checks were triggered, sigh.
   Cause still unknown, but am moving away from the "hostiles remaining" 
concept in CMilitaryMission to improve target counts reliability.
Added x-pos to the bounds check, but even if a swarmer or guppy could 
defy it, in a few frames it would be corrected. So my guess is that 
somehow the object is considered visible but isn't drawing, or the 
hostiles count is simply wrong. With the latest changes, if the latter 
is true, then entering the stargate will exit the mission because it 
does an actual count. If it doesn't exit, then we know there are one 
or more invisible or out-of-bound objects somewhere.
   With the new way mission end is determined, this problem hasn't 
occurred despite hours of play testing.

FIXED: More framerate vs. time fixes.

FIXED: Baiters fired based on framerate instead of time.

FIXED: Guppies didn't face left when traveling that way.
 
FIXED: Player ship would not teleport through stargate facing 
highest abuducting lander if player was carrying humans.

FIXED: Firebomber Showdown mission had dynamos spawning only at the 
top of the arena.

Some update (tick) handlers (e.g. CEnemy::Move variants) may still process 
things by frame count instead of by time, causing incorrect timing 
on frame rates other than 60 fps.
   todo: reinvestigate; have not come across such cases recently as 
they may have all been fixed.

FIXED: View widgets do not activate/deactivate correctly, causing check assertions to fail. 
  Code architecture changed. All sprite installs/uninstalls also done in 
  main widget, not play arena view.

FIXED: Firebombers shoot too frequently as XP increases.

